<!DOCTYPE html>
<html>
  <head>
    <title>[WIP] Thailand MMA Election Explained</title>
    <meta charset="UTF-8" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1" /> -->
    <link rel="stylesheet" href="src/vendor/tabulator_bootstrap4.css" />
    <link rel="stylesheet" href="src/main.css" />
  </head>

  <body>
    <div class="container">
      <h1>Thailand MMA Election Explained -- Work In Progress</h1>
      <h2>Starter simulation</h2>

      <div class="text">
        <p>
          การเลือกตั้งที่จะถึงนี้ จะเป็นครั้งแรกของการลงคะแนนเสียงแบบใหม่
          ตามรัฐธรรมนูญฉบับปีพ.ศ.2560 โดยใช้ระบบที่เรียกว่า
          ระบบเลือกตั้งแบบจัดสรรปันส่วนผสม (mixed member apportionment system
          หรือ MMA)
        </p>

        <p>
          จากเดิมผู้มีสิทธิ์จะได้รับบัตรเลือกตั้ง 2 ใบ
          โดยสามารถเลือกได้ทั้งผู้สมัครส.ส. แบบแบ่งเขตเลือกตั้ง และผู้สมัครส.ส.
          แบบบัญชีรายชื่อผ่านการเลือกพรรคการเมือง
        </p>
        <p>
          แต่การเลือกตั้งในวันที่ 24 มีนาคม 2562 นี้
          เราจะได้รับบัตรเลือกตั้งเหลือเพียงแค่ใบเดียวคือ
          การเลือกผู้สมัครแบบแบ่งเขตเลือกตั้งเท่านั้น ส่วนส.ส.แบบบัญชีรายชื่อ
          จะได้มาจากการคำนวณคะแนนเสียงรวมทั้งประเทศเพื่อหาจำนวนส.ส.ของแต่ละพรรค
          ซึ่งมีความสลับซับซ้อน สร้างความงุนงงให้กับทุกคน
        </p>
        <p>
          ต่อไปนี้จะไปการแสดงแบบจำลองสมมติของการเลือกตั้ง และการนับจำนวนส.ส.
          แบบต่าง ๆ
          เพื่อเราจะได้เข้าใจระบบเลือกตั้งแบบจัดสรรปันส่วนผสมนี้ดียิ่งขึ้น
        </p>
        <br />
        <button
          onclick="app.runApp(app.config, app.randomSeed+=1, { starter: true })"
        >
          สุ่มผลการเลือกตั้งใหม่
        </button>
      </div>
      <div id="text-intro" class="text"></div>

      <div id="result-constituents" class="plot"></div>
      <div id="text-constituent-seats" class="text"></div>
      <div id="parliament-seats-constituent"></div>
      <div id="table-constituent" class="table"></div>

      <div id="text-initial-allocation" class="text"></div>
      <div id="initial-allocation" class="plot"></div>
      <div class="text">
        <h4>จำนวนส.ส.พึงมี</h4>
        <p>จากกราฟข้างบน แบ่งจำนวนส.ส.พึงมีให้แต่ละพรรคดังต่อไปนี้</p>
      </div>
      <div id="table-initial-allocation" class="table"></div>

      <div id="text-final-allocation" class="text"></div>
      <div id="final-allocation" class="plot"></div>
      <div class="text">
        <h4>จำนวนส.ส.บัญชีรายชื่อ</h4>
        <p>
          จากกราฟข้างบน แบ่งจำนวนส.ส.พึงมี ■ และ ส.ส.บัญชีรายชื่อ ◆
          (ส่วนต่างระหว่างจำนวนส.ส.พึงมี ■ - จำนวนส.ส.แบ่งเขต ●)
          ให้แต่ละพรรคได้ดังต่อไปนี้
        </p>
      </div>
      <div id="parliament-seats-party-list"></div>
      <div id="table-final-allocation" class="table"></div>

      <div class="text"><h3>สรุปจำนวนส.ส.ทั้งหมด</h3></div>
      <div id="parliament-seats-all"></div>
      <div id="table-conclusion" class="table"></div>

      <hr />
      <h3>To-do list</h3>
      <ol>
        <li style="text-decoration: line-through;">Narrative</li>
        <li style="text-decoration: line-through;">
          Fix glitches in full election
        </li>
        <li style="text-decoration: line-through;">
          Add parliament compositions as waffle charts
        </li>
        <li>Annotations</li>
        <li>Legend</li>
        <li>Aesthetic: readability, major details</li>
        <li>Interactive: Hover on chart items</li>
        <li>Put on Obseravable</li>
        <li>
          Interactive: User-defined parameters e.g. number of parties, chances
          of winning of parties
        </li>
        <li>Simulate the party splitting strategy</li>
        <li>Review by friends</li>
        <li>Review by experts</li>
        <li>Aesthetic: Final touch</li>
        <li>Release</li>
        <li>Add English translation</li>
      </ol>
      <hr />
      <a href="full-election.html">Full election simulation</a>
      <a href="user-defined.html">User defined election</a>
      <p>
        Built with D3.js and Parcel.js | Code available on
        <a href="https://github.com/na399/thailand-mma-election-explained"
          >GitHub</a
        >
      </p>
    </div>

    <script src="src/app.js"></script>
    <script>
      app.runApp(app.config, app.randomSeed, { starter: true });
    </script>
  </body>
</html>
